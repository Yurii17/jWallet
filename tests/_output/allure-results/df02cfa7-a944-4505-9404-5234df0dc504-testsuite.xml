<?xml version="1.0" encoding="UTF-8"?>
<alr:test-suite xmlns:alr="urn:model.allure.qatools.yandex.ru" start="1546596068805" stop="1546596079196" version="1.4.0">
  <name>api</name>
  <test-cases>
    <test-case start="1546596068829" stop="1546596071245" status="passed">
      <name>sendGetUserProfileValid</name>
      <steps>
        <step start="1546596068851" stop="1546596070850" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596070852" stop="1546596070858" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596070860" stop="1546596070874" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596070878" stop="1546596070878" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImViOTkxNjAxOGYyYjZlOWEwZGI3M2I1OTUyMzRjMmJjNzY1ZmViNTYyNjdiMGJkMmVmOWFlMjIwOGYyYmY3ZGM1NDY0MDVhZGJkODkzNzlmIn0•eyJhdWQiOiIzIiwianRpIjoiZWI5OTE2MDE4ZjJ•••"</name>
        </step>
        <step start="1546596070880" stop="1546596071225" status="passed">
          <name>send get "/profile"</name>
        </step>
        <step start="1546596071232" stop="1546596071232" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596071236" stop="1546596071241" status="passed">
          <name>see response contains json {"email":"yurii•lobas@gmail•com"}</name>
        </step>
      </steps>
    </test-case>
    <test-case start="1546596071259" stop="1546596072190" status="passed">
      <name>sendGetUserProfileAuthError</name>
      <steps>
        <step start="1546596071276" stop="1546596072044" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596072046" stop="1546596072047" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596072049" stop="1546596072049" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596072052" stop="1546596072053" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjlhODllMzJiOWJmMmNmNjVhMDU0MDcyOTg2YmI1M2JmNDlkMTNhMjVmMDZlZDM5ZjRmN2MyMmM1N2I5MzJmNzYwZTg3ZDg1ZjFiMzEwMzc2In0•eyJhdWQiOiIzIiwianRpIjoiOWE4OWUzMmI5YmY•••"</name>
        </step>
        <step start="1546596072058" stop="1546596072058" status="passed">
          <name>delete header "Authorization"</name>
        </step>
        <step start="1546596072060" stop="1546596072187" status="passed">
          <name>send get "/profile"</name>
        </step>
      </steps>
    </test-case>
    <test-case start="1546596072196" stop="1546596073133" status="passed">
      <name>sendPostTicketAuthError</name>
      <steps>
        <step start="1546596072209" stop="1546596072892" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596072894" stop="1546596072894" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596072896" stop="1546596072896" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596072898" stop="1546596072899" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImI1NDFjNDA2OWRjNGY4ZDg4Njg3MjExOGJlYzk0N2U4MTY3MTk2NDg2YTRiZmM3MzllMDAyNWFiZjI2MDVkZGVkYmU3NjYxMGUyODQwMzNmIn0•eyJhdWQiOiIzIiwianRpIjoiYjU0MWM0MDY5ZGM•••"</name>
        </step>
        <step start="1546596072902" stop="1546596072902" status="passed">
          <name>delete header "Authorization"</name>
        </step>
        <step start="1546596072992" stop="1546596073128" status="passed">
          <name>send post "/ticket",{"title":"Voluptatem sit sapiente in corporis ipsam quidem accusamus• Autem cumque ab explicabo saepe enim beatae quod•","config_id":"ID from api/ticketConfigs"}</name>
        </step>
        <step start="1546596073130" stop="1546596073130" status="passed">
          <name>see response code is 401</name>
        </step>
        <step start="1546596073132" stop="1546596073132" status="passed">
          <name>see response contains json {"data":[],"message":"error","errors":["Не авторизован"]}</name>
        </step>
      </steps>
    </test-case>
    <test-case start="1546596073139" stop="1546596074378" status="passed">
      <name>sendPostTicketValid</name>
      <steps>
        <step start="1546596073144" stop="1546596073832" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596073834" stop="1546596073835" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596073838" stop="1546596073838" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596073841" stop="1546596073842" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImMwNGUyMmYxOTEwN2Q4YjI3ZTEzNzkwODcxMzZhZDBjNzdiMmRmM2IxNGU0YzkxNGU1YzFmY2MwZTAyMWZkODY2YzY1OWQyYmVkN2E3MTY2In0•eyJhdWQiOiIzIiwianRpIjoiYzA0ZTIyZjE5MTA•••"</name>
        </step>
        <step start="1546596073845" stop="1546596073845" status="passed">
          <name>have http header "Content-type","application/json"</name>
        </step>
        <step start="1546596073849" stop="1546596073850" status="passed">
          <name>delete header "Authorization"</name>
        </step>
        <step start="1546596073854" stop="1546596074372" status="passed">
          <name>send post "/ticket",{"data":{"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImI0NDk3ZmM4YjE4ODY3MjJkM2Y4YWEwY2VjMjg\n                4NThlZTI3YTZmZTdlMDQxYmY3MTlkZThkYjBhYjg5MDBmODViMzZiNTRjYjJ•••}</name>
        </step>
        <step start="1546596074374" stop="1546596074375" status="passed">
          <name>see response code is 401</name>
        </step>
        <step start="1546596074376" stop="1546596074376" status="passed">
          <name>see response contains json {"data":[],"message":"error","errors":["Не авторизован"]}</name>
        </step>
      </steps>
    </test-case>
    <test-case start="1546596074387" stop="1546596075390" status="passed">
      <name>JWReceiverError</name>
      <steps>
        <step start="1546596074394" stop="1546596075088" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596075090" stop="1546596075090" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596075091" stop="1546596075091" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596075094" stop="1546596075094" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImE2NjMwYzFmMDk0YjM5Yjc0ZmE3ZGUxYTc5NzVhMjk0MWY1MjNjNTI5YmE1MTI4ODgzZTYzNzI5MTBkZGYzYTc2OTRlOTkzZjYxYmQyYWViIn0•eyJhdWQiOiIzIiwianRpIjoiYTY2MzBjMWYwOTR•••"</name>
        </step>
        <step start="1546596075097" stop="1546596075385" status="passed">
          <name>send post "/transfer?lang=ru",{"eps_code":"JW","transfer_input":"transfer_send","transfer_receive_amount":"10•00","transfer_receiver_type":"text","transfer_receiver_value":"JU000000","transfer_send_amount":•••}</name>
        </step>
        <step start="1546596075386" stop="1546596075386" status="passed">
          <name>see response code is 400</name>
        </step>
        <step start="1546596075388" stop="1546596075388" status="passed">
          <name>see response contains json {"data":[],"message":"error","errors":["Неправильно введен получатель"]}</name>
        </step>
      </steps>
    </test-case>
    <test-case start="1546596075395" stop="1546596076474" status="failed">
      <name>JWAmountLimitError</name>
      <failure>
        <message>Response JSON does not contain the provided JSON
</message>
        <stack-trace>#0 D:\codeception\jWallet\vendor\phpunit\phpunit\src\Framework\Constraint\Constraint.php(51): Codeception\PHPUnit\Constraint\JsonContains-&gt;matches('{"data":[],"mes...')
#1 D:\codeception\jWallet\vendor\phpunit\phpunit\src\Framework\Assert.php(2305): PHPUnit\Framework\Constraint\Constraint-&gt;evaluate('{"data":[],"mes...', '')
#2 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Module\REST.php(796): PHPUnit\Framework\Assert::assertThat('{"data":[],"mes...', Object(Codeception\PHPUnit\Constraint\JsonContains))
#3 [internal function]: Codeception\Module\REST-&gt;seeResponseContainsJson(Array)
#4 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Step.php(265): call_user_func_array(Array, Array)
#5 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Scenario.php(72): Codeception\Step-&gt;run(Object(Codeception\Lib\ModuleContainer))
#6 D:\codeception\jWallet\tests\_support\_generated\ApiTesterActions.php(598): Codeception\Scenario-&gt;runStep(Object(Codeception\Step\Assertion))
#7 D:\codeception\jWallet\tests\_support\ApiTester.php(62): ApiTester-&gt;seeResponseContainsJson(Array)
#8 D:\codeception\jWallet\tests\api\profileCest.php(135): ApiTester-&gt;seeErrorMessage(Array)
#9 [internal function]: profileCest-&gt;JWAmountLimitError(Object(ApiTester))
#10 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Lib\Di.php(127): ReflectionMethod-&gt;invokeArgs(Object(profileCest), Array)
#11 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Test\Cest.php(138): Codeception\Lib\Di-&gt;injectDependencies(Object(profileCest), 'JWAmountLimitEr...', Array)
#12 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Test\Cest.php(150): Codeception\Test\Cest-&gt;invoke('JWAmountLimitEr...', Array)
#13 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Test\Cest.php(82): Codeception\Test\Cest-&gt;executeTestMethod(Object(ApiTester))
#14 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Test\Test.php(89): Codeception\Test\Cest-&gt;test()
#15 D:\codeception\jWallet\vendor\phpunit\phpunit\src\Framework\TestSuite.php(746): Codeception\Test\Test-&gt;run(Object(PHPUnit\Framework\TestResult))
#16 D:\codeception\jWallet\vendor\codeception\phpunit-wrapper\src\Runner.php(118): PHPUnit\Framework\TestSuite-&gt;run(Object(PHPUnit\Framework\TestResult))
#17 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\SuiteManager.php(158): Codeception\PHPUnit\Runner-&gt;doEnhancedRun(Object(Codeception\Suite), Object(PHPUnit\Framework\TestResult), Array)
#18 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Codecept.php(192): Codeception\SuiteManager-&gt;run(Object(Codeception\PHPUnit\Runner), Object(PHPUnit\Framework\TestResult), Array)
#19 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Codecept.php(159): Codeception\Codecept-&gt;runSuite(Array, 'api', 'profileCest')
#20 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Command\Run.php(384): Codeception\Codecept-&gt;run('api', 'profileCest', Array)
#21 D:\codeception\jWallet\vendor\symfony\console\Command\Command.php(255): Codeception\Command\Run-&gt;execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#22 D:\codeception\jWallet\vendor\symfony\console\Application.php(901): Symfony\Component\Console\Command\Command-&gt;run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#23 D:\codeception\jWallet\vendor\symfony\console\Application.php(262): Symfony\Component\Console\Application-&gt;doRunCommand(Object(Codeception\Command\Run), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#24 D:\codeception\jWallet\vendor\symfony\console\Application.php(145): Symfony\Component\Console\Application-&gt;doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#25 D:\codeception\jWallet\vendor\codeception\codeception\src\Codeception\Application.php(108): Symfony\Component\Console\Application-&gt;run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#26 D:\codeception\jWallet\vendor\codeception\codeception\package\bin(38): Codeception\Application-&gt;run()
#27 C:\Users\Victoriia\AppData\Roaming\Composer\vendor\codeception\codeception\autoload.php(12): require('D:\\codeception\\...')
#28 C:\Users\Victoriia\AppData\Roaming\Composer\vendor\codeception\codeception\codecept(7): require_once('C:\\Users\\Victor...')
#29 {main}</stack-trace>
      </failure>
      <steps>
        <step start="1546596075399" stop="1546596076123" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596076125" stop="1546596076125" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596076126" stop="1546596076127" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596076129" stop="1546596076129" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjBmZWU2ZjVlNzczODFhZDlhMzQ3ZmEyNWM2YjUyZDc0MzM1MTU0ZTBlNTc4MzYyMDRiZGE4MTQ0NDg5YjQ3MmRkZDg1YjBjMmMxNjg0N2U5In0•eyJhdWQiOiIzIiwianRpIjoiMGZlZTZmNWU3NzM•••"</name>
        </step>
        <step start="1546596076131" stop="1546596076397" status="passed">
          <name>send post "/transfer?lang=ru",{"eps_code":"JW","transfer_input":"transfer_send","transfer_receive_amount":"10000000•00","transfer_receiver_type":"text","transfer_receiver_value":"JU000000000","transfer_send•••}</name>
        </step>
        <step start="1546596076399" stop="1546596076399" status="passed">
          <name>see response code is 400</name>
        </step>
        <step start="1546596076404" stop="1546596076444" status="passed">
          <name>see response contains json {"data":[],"message":"error","errors":["Превышен лимит• Максимальная сумма отправления - 8999659•44USD"]}</name>
        </step>
      </steps>
    </test-case>
    <test-case start="1546596076493" stop="1546596077519" status="passed">
      <name>JWMinAmountError</name>
      <steps>
        <step start="1546596076507" stop="1546596077221" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596077223" stop="1546596077223" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596077224" stop="1546596077224" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596077226" stop="1546596077226" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjFlYTk1ODZhNGFhODUwYWFiYzkyMzIyYWY3YTgxNWI3NjBiZThlMWM5NDFiZDQ0OTZjYjg5OTIyNjQ0NjA4YzQ5ZjczYzY4MGY0YTVmNjkyIn0•eyJhdWQiOiIzIiwianRpIjoiMWVhOTU4NmE0YWE•••"</name>
        </step>
        <step start="1546596077228" stop="1546596077513" status="passed">
          <name>send post "/transfer?lang=ru",{"eps_code":"JW","transfer_input":"transfer_send","transfer_receive_amount":"1•00","transfer_receiver_type":"text","transfer_receiver_value":"JU000000000","transfer_send_amount•••}</name>
        </step>
        <step start="1546596077514" stop="1546596077515" status="passed">
          <name>see response code is 400</name>
        </step>
        <step start="1546596077517" stop="1546596077518" status="passed">
          <name>see response contains json {"data":[],"message":"error","errors":["Минимальная сумма отправления - $2"]}</name>
        </step>
      </steps>
    </test-case>
    <test-case start="1546596077524" stop="1546596078396" status="passed">
      <name>JWDigitsError</name>
      <steps>
        <step start="1546596077528" stop="1546596078229" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596078231" stop="1546596078231" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596078232" stop="1546596078232" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596078234" stop="1546596078234" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImJiMWJkYWJlYTNjNGM0ZDRkMTNjNTM3OWY4Y2M3NWM4ZjZlYWY3Yjc4N2E4ZDc0NmRiZTdmMTJmNGEwMzE5Y2MyOTgzNTIzMjNlMzgwZDdlIn0•eyJhdWQiOiIzIiwianRpIjoiYmIxYmRhYmVhM2M•••"</name>
        </step>
        <step start="1546596078236" stop="1546596078391" status="passed">
          <name>send post "/transfer?lang=ru",{"eps_code":"JW","transfer_input":"transfer_send","transfer_receive_amount":"12•00","transfer_receiver_type":"text","transfer_receiver_value":"JU000000000","transfer_send_amoun•••}</name>
        </step>
        <step start="1546596078392" stop="1546596078392" status="passed">
          <name>see response code is 400</name>
        </step>
        <step start="1546596078394" stop="1546596078394" status="passed">
          <name>see response contains json {"data":[],"message":"error","errors":{"transfer_send_amount":["Поле transfer send amount должно быть числом•"]}}</name>
        </step>
      </steps>
    </test-case>
    <test-case start="1546596078401" stop="1546596079194" status="passed">
      <name>JWTextError</name>
      <steps>
        <step start="1546596078405" stop="1546596079037" status="passed">
          <name>send post "/auth/login",{"email":"yurii•lobas@gmail•com","password":"12345678"}</name>
        </step>
        <step start="1546596079039" stop="1546596079039" status="passed">
          <name>see response code is 200</name>
        </step>
        <step start="1546596079040" stop="1546596079041" status="passed">
          <name>grab data from response by json path "$•data•access_token"</name>
        </step>
        <step start="1546596079043" stop="1546596079043" status="passed">
          <name>am bearer authenticated "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6Ijg2OWIzMzY0YTljNWM4Y2Q2M2QyZTk0ODM4ZmU0NWEwMDlmZWE1ZTVmYzlhN2UwMjU3MGJiMzg3Nzk4ZTMyYTVmZmNkMGNjY2UwYjEyNzhiIn0•eyJhdWQiOiIzIiwianRpIjoiODY5YjMzNjRhOWM•••"</name>
        </step>
        <step start="1546596079045" stop="1546596079186" status="passed">
          <name>send post "/transfer?lang=ru",{"eps_code":"JW","transfer_input":"transfer_send","transfer_receive_amount":"2•00","transfer_receiver_type":"text","transfer_receiver_value":"JU000000000","transfer_send_amount•••}</name>
        </step>
        <step start="1546596079189" stop="1546596079189" status="passed">
          <name>see response code is 400</name>
        </step>
        <step start="1546596079192" stop="1546596079192" status="passed">
          <name>see response contains json {"data":[],"message":"error","errors":{"transfer_subject":["Количество символов в поле transfer subject не может превышать 200•"]}}</name>
        </step>
      </steps>
    </test-case>
  </test-cases>
</alr:test-suite>
